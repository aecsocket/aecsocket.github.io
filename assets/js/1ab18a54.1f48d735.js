"use strict";(self.webpackChunkaecsocket_github_io=self.webpackChunkaecsocket_github_io||[]).push([[767],{3905:(e,t,n)=>{n.d(t,{Zo:()=>d,kt:()=>k});var l=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,l)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,l,a=function(e,t){if(null==e)return{};var n,l,a={},o=Object.keys(e);for(l=0;l<o.length;l++)n=o[l],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(l=0;l<o.length;l++)n=o[l],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var i=l.createContext({}),u=function(e){var t=l.useContext(i),n=t;return e&&(n="function"==typeof e?e(t):r(r({},t),e)),n},d=function(e){var t=u(e.components);return l.createElement(i.Provider,{value:t},e.children)},c="mdxType",p={inlineCode:"code",wrapper:function(e){var t=e.children;return l.createElement(l.Fragment,{},t)}},m=l.forwardRef((function(e,t){var n=e.components,a=e.mdxType,o=e.originalType,i=e.parentName,d=s(e,["components","mdxType","originalType","parentName"]),c=u(n),m=a,k=c["".concat(i,".").concat(m)]||c[m]||p[m]||o;return n?l.createElement(k,r(r({ref:t},d),{},{components:n})):l.createElement(k,r({ref:t},d))}));function k(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=n.length,r=new Array(o);r[0]=m;var s={};for(var i in t)hasOwnProperty.call(t,i)&&(s[i]=t[i]);s.originalType=e,s[c]="string"==typeof e?e:a,r[1]=s;for(var u=2;u<o;u++)r[u]=n[u];return l.createElement.apply(null,r)}return l.createElement.apply(null,n)}m.displayName="MDXCreateElement"},3244:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>i,contentTitle:()=>r,default:()=>p,frontMatter:()=>o,metadata:()=>s,toc:()=>u});var l=n(7462),a=(n(7294),n(3905));const o={sidebar_position:1},r="Format",s={unversionedId:"glossa/format",id:"glossa/format",title:"Format",description:"A translation file, such as en-US.yml or root.yml defines all the info that the translation engine uses.",source:"@site/docs/glossa/format.md",sourceDirName:"glossa",slug:"/glossa/format",permalink:"/glossa/format",draft:!1,editUrl:"https://github.com/aecsocket/aecsocket.github.io/blob/main/docs/glossa/format.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1},sidebar:"sidebar",previous:{title:"Glossa",permalink:"/glossa/"},next:{title:"ICU Guide",permalink:"/glossa/icu"}},i={},u=[{value:"Keys",id:"keys",level:2},{value:"Translations",id:"translations",level:2},{value:"Templates",id:"templates",level:3},{value:"MiniMessage",id:"minimessage",level:4},{value:"ICU",id:"icu",level:4},{value:"Substitutions",id:"substitutions",level:2},{value:"Styles",id:"styles",level:2}],d={toc:u},c="wrapper";function p(e){let{components:t,...n}=e;return(0,a.kt)(c,(0,l.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"format"},"Format"),(0,a.kt)("p",null,"A translation file, such as ",(0,a.kt)("inlineCode",{parentName:"p"},"en-US.yml")," or ",(0,a.kt)("inlineCode",{parentName:"p"},"root.yml")," defines all the info that the translation engine uses.\nThere are three main sections: ",(0,a.kt)("inlineCode",{parentName:"p"},"translations"),", ",(0,a.kt)("inlineCode",{parentName:"p"},"substitutions")," and ",(0,a.kt)("inlineCode",{parentName:"p"},"styles"),", which separate translated text\nand styling the text."),(0,a.kt)("h2",{id:"keys"},"Keys"),(0,a.kt)("p",null,"Glossa allows only a specific set of characters in keys, ",(0,a.kt)("inlineCode",{parentName:"p"},"/([a-z0-9_])+/"),", which means only:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"lowercase letters ",(0,a.kt)("inlineCode",{parentName:"li"},"a-z")),(0,a.kt)("li",{parentName:"ul"},"numbers ",(0,a.kt)("inlineCode",{parentName:"li"},"0-9")),(0,a.kt)("li",{parentName:"ul"},"an underscore ",(0,a.kt)("inlineCode",{parentName:"li"},"_"))),(0,a.kt)("p",null,"Using any other characters will produce an error!"),(0,a.kt)("h2",{id:"translations"},"Translations"),(0,a.kt)("p",null,"The bulk of the work is done in this section. This section defines the text strings for each message key and\nlocale. This block defines the message generated when the message key ",(0,a.kt)("inlineCode",{parentName:"p"},"hello_world")," is generated:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-yaml"},'translations:\n  # the locale that this block is for\n  en-US:\n    # the message key, `hello_world`, and its value, `Hello World!`\n    hello_world: "Hello World!"\n')),(0,a.kt)("p",null,"Note that you should always wrap ",(0,a.kt)("strong",{parentName:"p"},"single-line")," text strings in quotes (even if you're not technically required to!),\nto make sure it is valid YAML."),(0,a.kt)("p",null,"Translations for multiple locales can be included in one ",(0,a.kt)("inlineCode",{parentName:"p"},"translations")," block:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-yaml"},'translations:\n  en-US: # American English\n    shovel: "Shovel"\n  en-GB: # British English\n    shovel: "Spade"\n')),(0,a.kt)("p",null,"The local key (",(0,a.kt)("inlineCode",{parentName:"p"},"en-US"),", ",(0,a.kt)("inlineCode",{parentName:"p"},"en-GB"),") must be specified in ",(0,a.kt)("a",{parentName:"p",href:"https://docs.oracle.com/javase/8/docs/api/java/util/Locale.html#forLanguageTag-java.lang.String-"},"the ",(0,a.kt)("inlineCode",{parentName:"a"},"Locale.forLanguageTag")," format"),"."),(0,a.kt)("p",null,"Translations can be stored under ",(0,a.kt)("strong",{parentName:"p"},"sections")," to categorise them:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-yaml"},'en-US:\n  hello_world: "Hello World!"\n\n  command:\n    # command.ban\n    ban: "Banned a player"\n    # command.kick\n    kick: "Kicked a player"\n\n  gui:\n    store:\n      # gui.store.title\n      title: "Store"\n    crafting:\n      # gui.crafting.title\n      title: "Crafting Station"\n')),(0,a.kt)("p",null,"Multiple lines can be included in a message:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-yaml"},'player_welcome: |- # `|-` means "multiline text, preserve newlines"\n  Welcome to the server!\n  \n  Walk forward to enter the hub, or\n  walk left to enter the trading hall.\nitem_description: >- # `>-` means "multiline text, remove newlines"\n  Behold the Enchanted Talisman, a powerful artifact infused with ancient magic\n  that grants the wielder the ability to summon spectral creatures to fight at\n  their side. Harness the Talisman\'s energy to turn the tide of battle and vanquish\n  even the mightiest foes.\n')),(0,a.kt)("p",null,"You don't need to wrap multiline text strings in quotes in YAML."),(0,a.kt)("p",null,"If the message key supports it, multiple messages (not lines!) can also be created:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-yaml"},'splash_messages:\n  - "Unleash Your Power!"\n  - "Embark on an Epic Journey!"\n  - "Join the Battle and Conquer!"\n  - "Become a Legend!"\n  - |-\n    You can also put multi-line messages\n    inside a list of messages\n')),(0,a.kt)("h3",{id:"templates"},"Templates"),(0,a.kt)("p",null,"When a message is generated, the code can pass in ",(0,a.kt)("strong",{parentName:"p"},"arguments"),", which replace ",(0,a.kt)("strong",{parentName:"p"},"templates")," in the text string.\nThere are two different types of templates: MiniMessage and ICU templates."),(0,a.kt)("h4",{id:"minimessage"},"MiniMessage"),(0,a.kt)("p",null,"These templates are enclosed in ",(0,a.kt)("inlineCode",{parentName:"p"},"<angled_brackets>"),", and use the Adventure MiniMessage format for parsing.\nThey allow inserting existing text components into the translation, such as the output of another translation\noperation."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-yaml"},'colored_message: "<red>This part of the message is red <bold>and also bold</bold>, but <blue>this part is blue"\n')),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-yaml"},"store_info: |-\n  Store info:\n    - Most sold item: <most_sold>\n    - Highest priced item: <highest_priced> at <highest_price> Gold\n")),(0,a.kt)("p",null,"With the arguments:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"most_sold"),": ",(0,a.kt)("inlineCode",{parentName:"li"},"<red>Fire Sword")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"highest_priced"),": ",(0,a.kt)("inlineCode",{parentName:"li"},"<blue>Special Gem")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"highest_price"),": ",(0,a.kt)("inlineCode",{parentName:"li"},"500"))),(0,a.kt)("p",null,"Produces:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-xml"},"Store info:\n  - Most sold item: <red>Fire Sword\n  - Highest priced item: <blue>Special Gem</blue> at 500 Gold\n")),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Read the guide here: ",(0,a.kt)("a",{parentName:"strong",href:"https://docs.advntr.dev/minimessage/format.html"},"MiniMessage Format"))),(0,a.kt)("h4",{id:"icu"},"ICU"),(0,a.kt)("p",null,"These templates are enclosed in ",(0,a.kt)("inlineCode",{parentName:"p"},"{curly_brackets}"),", and use the ",(0,a.kt)("a",{parentName:"p",href:"https://icu.unicode.org/"},"Unicode ICU")," format for\nparsing. They allow parsing raw values, such as numbers and dates, in a format that respects the user's locale settings."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-yaml"},'player_stats: "Kills: {kills, number} / Money: {money, number, :: .00} USD"\n')),(0,a.kt)("table",null,(0,a.kt)("tr",null,(0,a.kt)("td",null,"Arguments"),(0,a.kt)("td",null,(0,a.kt)("code",null,"en-US")),(0,a.kt)("td",null,(0,a.kt)("code",null,"fr-FR")),(0,a.kt)("td",null,(0,a.kt)("code",null,"de-DE"))),(0,a.kt)("tr",null,(0,a.kt)("td",null,(0,a.kt)("code",null,"kills = 12345"),(0,a.kt)("br",null),(0,a.kt)("code",null,"money = 101.45")),(0,a.kt)("td",null,(0,a.kt)("code",null,"Kills: 12,345 / Money: 101.45 USD")),(0,a.kt)("td",null,(0,a.kt)("code",null,"Kills: 12 345 / Money: 101,45 Gold")),(0,a.kt)("td",null,(0,a.kt)("code",null,"Kills: 12.345 / Money: 101,45 Gold")))),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-yaml"},"en-US:\n  sold_item: >-\n    You sold {num_items, plural,\n      =0 {no items}\n      one {# item}\n      other {# items}\n    } on {date_sold, date, short}.\nfr-FR:\n  sold_item: >-\n    Vous avez vendu {num_items, plural,\n      =0 {aucun objet}\n      one {# objet}\n      other {# objets}\n    } le {date_sold, date, short}.\n")),(0,a.kt)("table",null,(0,a.kt)("tr",null,(0,a.kt)("td",null,"Arguments"),(0,a.kt)("td",null,(0,a.kt)("code",null,"en-US")),(0,a.kt)("td",null,(0,a.kt)("code",null,"fr-FR"))),(0,a.kt)("tr",null,(0,a.kt)("td",null,(0,a.kt)("code",null,"num_items = 0"),(0,a.kt)("br",null),(0,a.kt)("code",null,"date_sold = 1/1/1970")),(0,a.kt)("td",null,(0,a.kt)("code",null,"You sold no items on 1/1/70.")),(0,a.kt)("td",null,(0,a.kt)("code",null,"Vous avez vendu aucun objet le 01/01/1970."))),(0,a.kt)("tr",null,(0,a.kt)("td",null,(0,a.kt)("code",null,"num_items = 1"),(0,a.kt)("br",null),(0,a.kt)("code",null,"date_sold = 1/1/1970")),(0,a.kt)("td",null,(0,a.kt)("code",null,"You sold 1 item on 1/1/70.")),(0,a.kt)("td",null,(0,a.kt)("code",null,"Vous avez vendu 1 objet le 01/01/1970."))),(0,a.kt)("tr",null,(0,a.kt)("td",null,(0,a.kt)("code",null,"num_items = 5"),(0,a.kt)("br",null),(0,a.kt)("code",null,"date_sold = 1/1/1970")),(0,a.kt)("td",null,(0,a.kt)("code",null,"You sold 5 items on 1/1/70.")),(0,a.kt)("td",null,(0,a.kt)("code",null,"Vous avez vendu 5 objets le 01/01/1970.")))),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Read the guide here: ",(0,a.kt)("a",{parentName:"strong",href:"/glossa/icu"},"ICU Guide"))),(0,a.kt)("h2",{id:"substitutions"},"Substitutions"),(0,a.kt)("p",null,"These define self-closing MiniMessage tags that can be used in translations, which are locale-independent.\nThese are useful for symbols like icons. Note that these are pre-parsed by MiniMessage into components,\ninstead of being inserted directly as text."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-yaml"},'substitutions:\n  icon_info: "<gray>(!)"\n  # you could use custom fonts from a resource pack here\n  icon_coin: "<yellow>\\uf801"\n\ntranslations:\n  en-US:\n    welcome: "<icon_info> Welcome to the server!"\n    balance: "Your balance: <icon_coin> {coins}"\n')),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-xml"},"<gray>(!)</gray> Welcome to the server!\n")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-xml"},"Your balance: <yellow>\\uf801</yellow> 50\n")),(0,a.kt)("h2",{id:"styles"},"Styles"),(0,a.kt)("p",null,"These define MiniMessage tags which apply a style to any content inside them. These are also locale-independent,\nso they should be the preferred method for applying simple styling like color and decorations, since they can be\ndefined and updated in a single place, and it will be propagated to all other translations automatically."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-yaml"},'styles:\n  style_info:\n    # font: minecraft:default\n    color: gray\n    # obfuscated: false\n    # bold: false\n    # strikethrough: false\n    # underlined: false\n    # italic: false\n  style_important:\n    color: yellow\n\ntranslations:\n  en-US:\n    friend_join: "<style_info>Your friend <style_important>{friend_name}</style_important> has joined!"\n')),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-xml"},"<gray>Your friend <yellow>TheFriend</yellow> has joined!</gray>\n")))}p.isMDXComponent=!0}}]);